(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{433:function(e,t,r){"use strict";r(22),r(23),r(5),r(53);var l=r(18),c=r(28),o=r(27),n=r(25),f=r(17),h=r(16),d=r(54),m=r(437),y=r(432),k=r(434),v=r(435),_=(r(9),r(52),r(11),r(47),r(48),r(31),r(51),r(406));function j(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e))){var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l,c=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){o=!0,l=e},f:function(){try{c||null==r.return||r.return()}finally{if(o)throw l}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,l=Object(f.a)(e);if(t){var c=Object(f.a)(this).constructor;r=Reflect.construct(l,arguments,c)}else r=l.apply(this,arguments);return Object(n.a)(this,r)}}var x=function(e,t,r,desc){var l,c=arguments.length,o=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(o=(c<3?l(o):c>3?l(t,r,o):l(t,r))||o);return c>3&&o&&Object.defineProperty(t,r,o),o},O=function(e){Object(o.a)(r,e);var t=$(r);function r(){var e;return Object(l.a)(this,r),(e=t.apply(this,arguments)).flg1=!1,e.flg2=!1,e.items=[],e.headers=[],e}return Object(c.a)(r,[{key:"watchTmp",value:function(){this.main()}},{key:"mounted",value:function(){var e=this.$store.state.facetLabels,t=[{key:"image",label:""},{key:"label",label:this.$t("title")}];for(var r in e)t.push({key:r,label:r});t.push({key:"icons",label:""}),this.fields=t;for(var l=[],i=0;i<t.length;i++){var c=t[i];c.label.startsWith("_")||l.push({text:c.label,align:"start",value:c.key})}this.headers=l,this.main()}},{key:"main",value:function(){for(var e=this.fields,t=this.results,r=[],i=0;i<t.length;i++){for(var l=t[i],c={image:this.$utils.formatArrayValue(l._source._thumbnail),label:this.$utils.formatArrayValue(l._source._label),id:l._id,raw:l},o=0;o<e.length;o++){var label=e[o].key;l._source[label]&&(c[label]=this.$utils.truncate(this.$utils.formatArrayValue(l._source[label]),50))}r.push(c)}this.items=r}},{key:"getUrl",value:function(e){return"https://taishozo.github.io/u-renja"+this.localePath({name:"item",query:{u:this.$route.query.u,id:e._id}})}},{key:"bunrui",value:function(e){return this.$utils.formatArrayValue(e.raw._source["分類(1)"])+" "+this.$utils.formatArrayValue(e.raw._source["分類(2)"])+" "+this.$utils.formatArrayValue(e.raw._source["分類(3)"])}},{key:"tana",value:function(e){return this.$utils.formatArrayValue(e.raw._source["函册"])+(e.raw._source["函册(to)"]?"~"+this.$utils.formatArrayValue(e.raw._source["函册(to)"]):"")+this.$utils.formatArrayValue(e.raw._source["函册(闕)"])}},{key:"size",value:function(e){return this.$utils.formatArrayValue(e.raw._source["寸法(縦）"])+"×"+this.$utils.formatArrayValue(e.raw._source["寸法(横)"])+"("+this.$utils.formatArrayValue(e.raw._source["寸法（計測箇所）"])+")"}},{key:"status",value:function(e){for(var t=[],i=1;i<5;i++){var label=1===i?"大正藏經典番號":"大正藏經典番号";e.raw._source[label+"("+i+")"]&&t.push('<a href="https://taishozo.github.io/db/search?keyword='+this.$utils.formatArrayValue(e.raw._source[label+"("+i+")"])+'" target="_blank">'+this.$utils.formatArrayValue(e.raw._source[label+"("+i+")"])+this.$utils.formatArrayValue(e.raw._source["大正藏採録種別("+i+")"])+"("+this.$utils.formatArrayValue(e.raw._source["大正藏脚注テキスト標準名称("+i+")"])+")</a>")}return t.join("<br/>")}},{key:"icons",value:function(e){var t=[];if(e.raw._source.Manifest){var r,l=j(e.raw._source.Manifest);try{for(l.s();!(r=l.n()).done;){var text='<a href="http://www.kanzaki.com/works/2016/pub/image-annotator?u='+r.value+'" target="_blank"><img width="30px" src="https://pbs.twimg.com/profile_images/596366309601845248/2uaPY5NH.png"/></a>';t.push(text)}}catch(e){l.e(e)}finally{l.f()}}return t.join("  ")}},{key:"results",get:function(){return this.$store.state.result.hits.hits}}]),r}(d.Vue);x([Object(d.Watch)("results",{deep:!0})],O.prototype,"watchTmp",null);var S=O=x([Object(d.Component)({components:{ResultOption:_.a}})],O),R=r(46),V=r(77),P=r.n(V),A=r(471),component=Object(R.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("table",{staticStyle:{"border-collapse":"collapse"},attrs:{border:"1",width:"100%"}},[r("thead",[r("tr",[r("th",{on:{click:function(t){e.flg1=!e.flg1}}},[e.flg1?[e._v("\n            ◀︎ 分類\n          ")]:[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on;return[r("span",e._g({},l),[e._v(e._s(e.flg1?"◀︎ 分類":"▶︎"))])]}}],null,!1,125086280)},[e._v(" "),r("span",[e._v("分類を開く")])])]],2),e._v(" "),r("th",[e._v("函册")]),e._v(" "),r("th",[e._v("經番")]),e._v(" "),r("th",[e._v("通番")]),e._v(" "),r("th",[e._v("經典名稱・卷數")]),e._v(" "),r("th",[e._v("譯著者")]),e._v(" "),r("th",[e._v("版式")]),e._v(" "),r("th",[e._v("刊記")]),e._v(" "),r("th",[e._v("備考")]),e._v(" "),r("th",{on:{click:function(t){e.flg2=!e.flg2}}},[e.flg2?[e._v("\n            寸法\n          ")]:[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on;return[r("span",e._g({},l),[e._v(" 寸法"+e._s(e.flg2?"":" ▶︎")+" ")])]}}],null,!1,2795690064)},[e._v(" "),r("span",[e._v("寸法(備考)を開く")])])]],2),e._v(" "),e.flg2?r("th",{on:{click:function(t){e.flg2=!e.flg2}}},[e._v("◀︎ 寸法（備考）")]):e._e(),e._v(" "),r("th",[e._v("大正藏採録状況")])])]),e._v(" "),r("tbody",e._l(e.items,(function(t,l){return r("tr",{key:l},[r("td",[e._v("\n          "+e._s(e.flg1?e.bunrui(t):"")+"\n        ")]),e._v(" "),r("td",[e._v(e._s(e.tana(t)))]),e._v(" "),r("td",[e._v(e._s(e.$utils.formatArrayValue(t.raw._source["經番"])))]),e._v(" "),r("td",[e._v(e._s(e.$utils.formatArrayValue(t.raw._source["通番"])))]),e._v(" "),r("td",[e._v("\n          "+e._s(e.$utils.formatArrayValue(t.raw._source["經典名稱・卷數"]))+"\n\n          "),r("span",{domProps:{innerHTML:e._s(e.icons(t))}})]),e._v(" "),r("td",[e._v("\n          "+e._s(e.$utils.formatArrayValue(t.raw._source["譯著者"]))+"\n        ")]),e._v(" "),r("td",[e._v("\n          "+e._s(e.$utils.formatArrayValue(t.raw._source["版式"]))+"\n        ")]),e._v(" "),r("td",[e._v("\n          "+e._s(e.$utils.formatArrayValue(t.raw._source["刊記"]))+"\n        ")]),e._v(" "),r("td",[e._v("\n          "+e._s(e.$utils.formatArrayValue(t.raw._source["備考"]))+"\n        ")]),e._v(" "),r("td",[e._v("\n          "+e._s(e.size(t))+"\n        ")]),e._v(" "),e.flg2?r("td",[e._v("\n          "+e._s(e.$utils.formatArrayValue(t.raw._source["寸法（備考）"]))+"\n        ")]):e._e(),e._v(" "),r("td",{domProps:{innerHTML:e._s(e.status(t))}})])})),0)])])}),[],!1,null,null,null),C=component.exports;function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,l=Object(f.a)(e);if(t){var c=Object(f.a)(this).constructor;r=Reflect.construct(l,arguments,c)}else r=l.apply(this,arguments);return Object(n.a)(this,r)}}P()(component,{VTooltip:A.a});var I=function(e,t,r,desc){var l,c=arguments.length,o=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(o=(c<3?l(o):c>3?l(t,r,o):l(t,r))||o);return c>3&&o&&Object.defineProperty(t,r,o),o},z=function(e){Object(o.a)(r,e);var t=F(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"layoutOption",get:function(){return this.$store.state.layout}}]),r}(d.Vue),L=z=I([Object(d.Component)({components:{GridSearchResult:m.a,ListSearchResult:y.a,ImageSearchResult:k.a,TableSearchResult:C,StatsSearchResult:v.a}})],z),M=Object(R.a)(L,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",["stats"===this.layoutOption?[t("StatsSearchResult")]:[t("TableSearchResult")]],2)}),[],!1,null,null,null);t.a=M.exports},514:function(e,t,r){"use strict";r.r(t);r(22),r(23),r(5),r(53),r(19),r(33),r(34),r(164),r(40);var l=r(12),c=r(18),o=r(28),n=r(27),f=r(25),h=r(17),d=r(16),m=r(54),y=r(438),k=r(439),v=r(433),_=r(431);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,l=Object(h.a)(e);if(t){var c=Object(h.a)(this).constructor;r=Reflect.construct(l,arguments,c)}else r=l.apply(this,arguments);return Object(f.a)(this,r)}}var w=function(e,t,r,desc){var l,c=arguments.length,o=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(o=(c<3?l(o):c>3?l(t,r,o):l(t,r))||o);return c>3&&o&&Object.defineProperty(t,r,o),o},$=function(e){Object(n.a)(f,e);var t,r=j(f);function f(){var e;return Object(c.a)(this,f),(e=r.apply(this,arguments)).height=window.innerHeight,e.baseUrl="https://taishozo.github.io/u-renja",e.string="",e.loadingFlag=!1,e.sortLabelsTmp='["基-経典番号", "基-配本"]',e.itemsSort=[],e.text=' <link rel="preload" href="/runtime~app.9e334eaa15688c4b1249.js" as="script"><link rel="preload" href="/common.e61b5424e4663448f46c.css" as="style"><link rel="preload" href="/vendors~app.e61b5424e4663448f46c.js" as="script"><link rel="preload" href="/common.950630d7145f9aa5224d.css" as="style"><link rel="preload" href="/app.950630d7145f9aa5224d.js" as="script"><link rel="preload" href="/layout-root-Index.9902e555ebf8f251f7d2.js" as="script"><link rel="preload" href="/layout-documentation-Index.79f7b3be2dfbb8983e70.js" as="script"><link rel="preload" href="/common.b4fe1dc57429f7fff241.css" as="style"><link rel="preload" href="/1485.b4fe1dc57429f7fff241.js" as="script"><link rel="preload" href="/common.f41e999ee1a08efaa008.css" as="style"><link rel="preload" href="/1447.f41e999ee1a08efaa008.js" as="script"><link rel="preload" href="/1666.bd28631bc9a4931eefd8.js" as="script"><link rel="preload" href="/1668.aa0c942993a126b2d8fc.js" as="script"><link rel="preload" href="/1664.ebba05acee86095e1fd7.js" as="script"><link rel="preload" href="/common.2ef87f5b8f92941cac3a.css" as="style"><link rel="preload" href="/1483.2ef87f5b8f92941cac3a.js" as="script"><link rel="preload" href="/1665.6343ca474931c2bf3246.js" as="script"><link rel="preload" href="/common.53d1c392fc334c5d7186.css" as="style"><link rel="preload" href="/1486.53d1c392fc334c5d7186.js" as="script"><link rel="preload" href="/1667.1d5caaccb431e373e583.js" as="script"><link rel="stylesheet" href="/common.e61b5424e4663448f46c.css"><link rel="stylesheet" href="/common.950630d7145f9aa5224d.css"><link rel="stylesheet" href="/common.b4fe1dc57429f7fff241.css"><link rel="stylesheet" href="/common.f41e999ee1a08efaa008.css"><link rel="stylesheet" href="/common.2ef87f5b8f92941cac3a.css"><link rel="stylesheet" href="/common.53d1c392fc334c5d7186.css"></head> <link rel="preload" href="/runtime~app.9e334eaa15688c4b1249.js" as="script"><link rel="preload" href="/common.e61b5424e4663448f46c.css" as="style"><link rel="preload" href="/vendors~app.e61b5424e4663448f46c.js" as="script"><link rel="preload" href="/common.950630d7145f9aa5224d.css" as="style"><link rel="preload" href="/app.950630d7145f9aa5224d.js" as="script"><link rel="preload" href="/layout-root-Index.9902e555ebf8f251f7d2.js" as="script"><link rel="preload" href="/layout-documentation-Index.79f7b3be2dfbb8983e70.js" as="script"><link rel="preload" href="/common.b4fe1dc57429f7fff241.css" as="style"><link rel="preload" href="/1485.b4fe1dc57429f7fff241.js" as="script"><link rel="preload" href="/common.f41e999ee1a08efaa008.css" as="style"><link rel="preload" href="/1447.f41e999ee1a08efaa008.js" as="script"><link rel="preload" href="/1666.bd28631bc9a4931eefd8.js" as="script"><link rel="preload" href="/1668.aa0c942993a126b2d8fc.js" as="script"><link rel="preload" href="/1664.ebba05acee86095e1fd7.js" as="script"><link rel="preload" href="/common.2ef87f5b8f92941cac3a.css" as="style"><link rel="preload" href="/1483.2ef87f5b8f92941cac3a.js" as="script"><link rel="preload" href="/1665.6343ca474931c2bf3246.js" as="script"><link rel="preload" href="/common.53d1c392fc334c5d7186.css" as="style"><link rel="preload" href="/1486.53d1c392fc334c5d7186.js" as="script"><link rel="preload" href="/1667.1d5caaccb431e373e583.js" as="script"><link rel="stylesheet" href="/common.e61b5424e4663448f46c.css"><link rel="stylesheet" href="/common.950630d7145f9aa5224d.css"><link rel="stylesheet" href="/common.b4fe1dc57429f7fff241.css"><link rel="stylesheet" href="/common.f41e999ee1a08efaa008.css"><link rel="stylesheet" href="/common.2ef87f5b8f92941cac3a.css"><link rel="stylesheet" href="/common.53d1c392fc334c5d7186.css"></head> <link rel="preload" href="/runtime~app.9e334eaa15688c4b1249.js" as="script"><link rel="preload" href="/common.e61b5424e4663448f46c.css" as="style"><link rel="preload" href="/vendors~app.e61b5424e4663448f46c.js" as="script"><link rel="preload" href="/common.950630d7145f9aa5224d.css" as="style"><link rel="preload" href="/app.950630d7145f9aa5224d.js" as="script"><link rel="preload" href="/layout-root-Index.9902e555ebf8f251f7d2.js" as="script"><link rel="preload" href="/layout-documentation-Index.79f7b3be2dfbb8983e70.js" as="script"><link rel="preload" href="/common.b4fe1dc57429f7fff241.css" as="style"><link rel="preload" href="/1485.b4fe1dc57429f7fff241.js" as="script"><link rel="preload" href="/common.f41e999ee1a08efaa008.css" as="style"><link rel="preload" href="/1447.f41e999ee1a08efaa008.js" as="script"><link rel="preload" href="/1666.bd28631bc9a4931eefd8.js" as="script"><link rel="preload" href="/1668.aa0c942993a126b2d8fc.js" as="script"><link rel="preload" href="/1664.ebba05acee86095e1fd7.js" as="script"><link rel="preload" href="/common.2ef87f5b8f92941cac3a.css" as="style"><link rel="preload" href="/1483.2ef87f5b8f92941cac3a.js" as="script"><link rel="preload" href="/1665.6343ca474931c2bf3246.js" as="script"><link rel="preload" href="/common.53d1c392fc334c5d7186.css" as="style"><link rel="preload" href="/1486.53d1c392fc334c5d7186.js" as="script"><link rel="preload" href="/1667.1d5caaccb431e373e583.js" as="script"><link rel="stylesheet" href="/common.e61b5424e4663448f46c.css"><link rel="stylesheet" href="/common.950630d7145f9aa5224d.css"><link rel="stylesheet" href="/common.b4fe1dc57429f7fff241.css"><link rel="stylesheet" href="/common.f41e999ee1a08efaa008.css"><link rel="stylesheet" href="/common.2ef87f5b8f92941cac3a.css"><link rel="stylesheet" href="/common.53d1c392fc334c5d7186.css"></head> <link rel="preload" href="/runtime~app.9e334eaa15688c4b1249.js" as="script"><link rel="preload" href="/common.e61b5424e4663448f46c.css" as="style"><link rel="preload" href="/vendors~app.e61b5424e4663448f46c.js" as="script"><link rel="preload" href="/common.950630d7145f9aa5224d.css" as="style"><link rel="preload" href="/app.950630d7145f9aa5224d.js" as="script"><link rel="preload" href="/layout-root-Index.9902e555ebf8f251f7d2.js" as="script"><link rel="preload" href="/layout-documentation-Index.79f7b3be2dfbb8983e70.js" as="script"><link rel="preload" href="/common.b4fe1dc57429f7fff241.css" as="style"><link rel="preload" href="/1485.b4fe1dc57429f7fff241.js" as="script"><link rel="preload" href="/common.f41e999ee1a08efaa008.css" as="style"><link rel="preload" href="/1447.f41e999ee1a08efaa008.js" as="script"><link rel="preload" href="/1666.bd28631bc9a4931eefd8.js" as="script"><link rel="preload" href="/1668.aa0c942993a126b2d8fc.js" as="script"><link rel="preload" href="/1664.ebba05acee86095e1fd7.js" as="script"><link rel="preload" href="/common.2ef87f5b8f92941cac3a.css" as="style"><link rel="preload" href="/1483.2ef87f5b8f92941cac3a.js" as="script"><link rel="preload" href="/1665.6343ca474931c2bf3246.js" as="script"><link rel="preload" href="/common.53d1c392fc334c5d7186.css" as="style"><link rel="preload" href="/1486.53d1c392fc334c5d7186.js" as="script"><link rel="preload" href="/1667.1d5caaccb431e373e583.js" as="script"><link rel="stylesheet" href="/common.e61b5424e4663448f46c.css"><link rel="stylesheet" href="/common.950630d7145f9aa5224d.css"><link rel="stylesheet" href="/common.b4fe1dc57429f7fff241.css"><link rel="stylesheet" href="/common.f41e999ee1a08efaa008.css"><link rel="stylesheet" href="/common.2ef87f5b8f92941cac3a.css"><link rel="stylesheet" href="/common.53d1c392fc334c5d7186.css"></head> <link rel="preload" href="/runtime~app.9e334eaa15688c4b1249.js" as="script"><link rel="preload" href="/common.e61b5424e4663448f46c.css" as="style"><link rel="preload" href="/vendors~app.e61b5424e4663448f46c.js" as="script"><link rel="preload" href="/common.950630d7145f9aa5224d.css" as="style"><link rel="preload" href="/app.950630d7145f9aa5224d.js" as="script"><link rel="preload" href="/layout-root-Index.9902e555ebf8f251f7d2.js" as="script"><link rel="preload" href="/layout-documentation-Index.79f7b3be2dfbb8983e70.js" as="script"><link rel="preload" href="/common.b4fe1dc57429f7fff241.css" as="style"><link rel="preload" href="/1485.b4fe1dc57429f7fff241.js" as="script"><link rel="preload" href="/common.f41e999ee1a08efaa008.css" as="style"><link rel="preload" href="/1447.f41e999ee1a08efaa008.js" as="script"><link rel="preload" href="/1666.bd28631bc9a4931eefd8.js" as="script"><link rel="preload" href="/1668.aa0c942993a126b2d8fc.js" as="script"><link rel="preload" href="/1664.ebba05acee86095e1fd7.js" as="script"><link rel="preload" href="/common.2ef87f5b8f92941cac3a.css" as="style"><link rel="preload" href="/1483.2ef87f5b8f92941cac3a.js" as="script"><link rel="preload" href="/1665.6343ca474931c2bf3246.js" as="script"><link rel="preload" href="/common.53d1c392fc334c5d7186.css" as="style"><link rel="preload" href="/1486.53d1c392fc334c5d7186.js" as="script"><link rel="preload" href="/1667.1d5caaccb431e373e583.js" as="script"><link rel="stylesheet" href="/common.e61b5424e4663448f46c.css"><link rel="stylesheet" href="/common.950630d7145f9aa5224d.css"><link rel="stylesheet" href="/common.b4fe1dc57429f7fff241.css"><link rel="stylesheet" href="/common.f41e999ee1a08efaa008.css"><link rel="stylesheet" href="/common.2ef87f5b8f92941cac3a.css"><link rel="stylesheet" href="/common.53d1c392fc334c5d7186.css"></head> <link rel="preload" href="/runtime~app.9e334eaa15688c4b1249.js" as="script"><link rel="preload" href="/common.e61b5424e4663448f46c.css" as="style"><link rel="preload" href="/vendors~app.e61b5424e4663448f46c.js" as="script"><link rel="preload" href="/common.950630d7145f9aa5224d.css" as="style"><link rel="preload" href="/app.950630d7145f9aa5224d.js" as="script"><link rel="preload" href="/layout-root-Index.9902e555ebf8f251f7d2.js" as="script"><link rel="preload" href="/layout-documentation-Index.79f7b3be2dfbb8983e70.js" as="script"><link rel="preload" href="/common.b4fe1dc57429f7fff241.css" as="style"><link rel="preload" href="/1485.b4fe1dc57429f7fff241.js" as="script"><link rel="preload" href="/common.f41e999ee1a08efaa008.css" as="style"><link rel="preload" href="/1447.f41e999ee1a08efaa008.js" as="script"><link rel="preload" href="/1666.bd28631bc9a4931eefd8.js" as="script"><link rel="preload" href="/1668.aa0c942993a126b2d8fc.js" as="script"><link rel="preload" href="/1664.ebba05acee86095e1fd7.js" as="script"><link rel="preload" href="/common.2ef87f5b8f92941cac3a.css" as="style"><link rel="preload" href="/1483.2ef87f5b8f92941cac3a.js" as="script"><link rel="preload" href="/1665.6343ca474931c2bf3246.js" as="script"><link rel="preload" href="/common.53d1c392fc334c5d7186.css" as="style"><link rel="preload" href="/1486.53d1c392fc334c5d7186.js" as="script"><link rel="preload" href="/1667.1d5caaccb431e373e583.js" as="script"><link rel="stylesheet" href="/common.e61b5424e4663448f46c.css"><link rel="stylesheet" href="/common.950630d7145f9aa5224d.css"><link rel="stylesheet" href="/common.b4fe1dc57429f7fff241.css"><link rel="stylesheet" href="/common.f41e999ee1a08efaa008.css"><link rel="stylesheet" href="/common.2ef87f5b8f92941cac3a.css"><link rel="stylesheet" href="/common.53d1c392fc334c5d7186.css"></head> <link rel="preload" href="/runtime~app.9e334eaa15688c4b1249.js" as="script"><link rel="preload" href="/common.e61b5424e4663448f46c.css" as="style"><link rel="preload" href="/vendors~app.e61b5424e4663448f46c.js" as="script"><link rel="preload" href="/common.950630d7145f9aa5224d.css" as="style"><link rel="preload" href="/app.950630d7145f9aa5224d.js" as="script"><link rel="preload" href="/layout-root-Index.9902e555ebf8f251f7d2.js" as="script"><link rel="preload" href="/layout-documentation-Index.79f7b3be2dfbb8983e70.js" as="script"><link rel="preload" href="/common.b4fe1dc57429f7fff241.css" as="style"><link rel="preload" href="/1485.b4fe1dc57429f7fff241.js" as="script"><link rel="preload" href="/common.f41e999ee1a08efaa008.css" as="style"><link rel="preload" href="/1447.f41e999ee1a08efaa008.js" as="script"><link rel="preload" href="/1666.bd28631bc9a4931eefd8.js" as="script"><link rel="preload" href="/1668.aa0c942993a126b2d8fc.js" as="script"><link rel="preload" href="/1664.ebba05acee86095e1fd7.js" as="script"><link rel="preload" href="/common.2ef87f5b8f92941cac3a.css" as="style"><link rel="preload" href="/1483.2ef87f5b8f92941cac3a.js" as="script"><link rel="preload" href="/1665.6343ca474931c2bf3246.js" as="script"><link rel="preload" href="/common.53d1c392fc334c5d7186.css" as="style"><link rel="preload" href="/1486.53d1c392fc334c5d7186.js" as="script"><link rel="preload" href="/1667.1d5caaccb431e373e583.js" as="script"><link rel="stylesheet" href="/common.e61b5424e4663448f46c.css"><link rel="stylesheet" href="/common.950630d7145f9aa5224d.css"><link rel="stylesheet" href="/common.b4fe1dc57429f7fff241.css"><link rel="stylesheet" href="/common.f41e999ee1a08efaa008.css"><link rel="stylesheet" href="/common.2ef87f5b8f92941cac3a.css"><link rel="stylesheet" href="/common.53d1c392fc334c5d7186.css"></head>',e}return Object(o.a)(f,[{key:"mounted",value:function(){}},{key:"fetch",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,l,c,o,n,f,h,d,m,y,k,v,_,j,w,$,x,O,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,l=r.state,r.commit("setCurrentManifest",""),e.next=6,t.app.$searchUtils.createIndex("https://taishozo.github.io/u-renja/iiif/collection/top.json");case 6:for(f in c=e.sent,t.app.$searchUtils.initStore(r,c),n=[],o={"分類(1)":"分類(1)","分類(2)":"分類(2)","分類(3)":"分類(3)","函册":"函册次","經番":"經番","通番":"通番","刊記(西暦年)":"刊記(西暦年)","圖像":"圖像","譯著者_facet":"譯著者","版式":"版式","大正藏採録種別":"大正藏採録種別","画像有無":"画像有無"})n.push(f);for(k in r.commit("setFacetLabels",o),r.commit("setFacetFlags",n),h=t.query,d=t.app.$searchUtils.createQuery(h,l),r.commit("setQuery",d),m=t.app.$searchUtils.search(r.state.index,r.state.data,r.state.query),t.store.commit("setResult",m),r.commit("init"),(y=h.keyword)&&r.commit("setKeyword",y),h)for(v=["fc","q"],_=0;_<v.length;_++)j=v[_],k.includes(j+"-")&&r.commit("setAdvanced",{label:k,values:h[k],type:j});(w=h.layout)&&r.commit("setLayout",w),($=h.sort)&&r.commit("setSort",$),(x=h.from)&&r.commit("setFrom",Number(x)),(O=h.size)&&r.commit("setSize",Number(O)),S=l.from/l.size+1,r.commit("setCurrentPage",S),window.scrollTo(0,0);case 33:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"watchLayout",value:function(e){("image"!==e&&"stats"!==e||!this.facetFlag)&&("image"===e||"stats"===e||this.facetFlag)||(this.facetFlag=!this.facetFlag)}},{key:"setCurrentPage",value:function(){if(this.currentPage>0){var e=Object.assign({},this.$route.query);e.from=(this.currentPage-1)*this.size,this.updateQuery(e)}}},{key:"setSize",value:function(){var e=Object.assign({},this.$route.query);e.from=0,e.size=this.size,this.updateQuery(e)}},{key:"setSort",value:function(){var e=Object.assign({},this.$route.query);e.from=0,e.sort=this.sort,this.updateQuery(e)}},{key:"updateQuery",value:function(e){this.$router.push(this.localePath({name:"search",query:e}),(function(){}),(function(){}))}},{key:"memberId",get:function(){return this.$store.state.currentMember},set:function(e){this.$store.commit("setCurrentMember",e)}},{key:"manifest",get:function(){return this.$store.state.currentManifest},set:function(e){this.$store.commit("setCurrentManifest",e)}},{key:"miradorPath",get:function(){var e=this.manifest;if(""===e)return null;var t=this.memberId,param={manifest:e};t!==e&&(param.canvas=t);var r=[param];return this.baseUrl+"/mirador/?params="+encodeURIComponent(JSON.stringify(r))}},{key:"results",get:function(){return this.$store.state.result.hits.hits}},{key:"layouts",get:function(){return[{value:"table",text:this.$t("table")},{value:"stats",text:this.$t("graph")}]}},{key:"currentPage",get:function(){return this.$store.state.currentPage},set:function(e){this.$store.commit("setCurrentPage",e)}},{key:"layout_",get:function(){return this.$store.state.layout},set:function(e){this.$store.commit("setLayout",e)}},{key:"col",get:function(){return this.$store.state.col},set:function(e){this.$store.commit("setCol",e)}},{key:"size",get:function(){return this.$store.state.size},set:function(e){this.$store.commit("setSize",e)}},{key:"sort",get:function(){return this.$store.state.sort},set:function(e){this.$store.commit("setSort",e)}},{key:"facetFlag",get:function(){return this.$store.state.facetFlag},set:function(e){this.$store.commit("setFacetFlag",e)}},{key:"total",get:function(){var e=this.$store.state.result;return e.hits?e.hits.total.value:0}},{key:"paginationLength",get:function(){return Math.ceil(this.total/this.size)}},{key:"computedItemsSort",get:function(){return this.$store.state.index?[{value:"通番.keyword:asc",text:this.$t("通番 昇順")},{value:"通番.keyword:desc",text:this.$t("通番 降順")}]:[]}}]),f}(m.Vue);w([Object(m.Watch)("layout_")],$.prototype,"watchLayout",null);var x=$=w([Object(m.Component)({components:{SearchForm:y.a,SearchFilter:k.a,FacetSearchOptions:_.a,SearchResult:v.a},watchQuery:!0})],$),O=r(46),S=r(77),R=r.n(S),V=r(395),P=r(409),A=r(154),C=r(502),F=r(410),I=r(448),z=r(44),L=r(471),component=Object(O.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-row",{attrs:{dense:""}},[e.facetFlag?r("v-col",{attrs:{cols:"12",sm:e.facetFlag?4:0,md:e.facetFlag?3:0}},[r("div",{staticClass:"overflow-y-auto pa-4",style:"height: "+(e.height-74)+"px"},[r("v-sheet",{attrs:{color:"grey lighten-3"}},[r("SearchFilter",{staticClass:"mb-4"})],1),e._v(" "),e.total>0?[r("h3",{staticClass:"mb-0"},[e._v("\n            "+e._s(e.$t("refine_your_search"))+"\n          ")]),e._v(" "),r("FacetSearchOptions",{directives:[{name:"show",rawName:"v-show",value:e.facetFlag,expression:"facetFlag"}],staticClass:"mt-5"})]:e._e()],2)]):e._e(),e._v(" "),r("v-col",{attrs:{cols:"12",sm:e.facetFlag?8:12,md:e.facetFlag?9:12}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12",sm:""!=e.manifest?7:12}},[r("div",{staticClass:"overflow-y-auto pa-4",style:"height: "+(.99*e.height-74)+"px"},[r("v-row",{attrs:{dense:""}},[r("h3",{staticClass:"mb-0"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on;return[r("v-icon",e._g({on:{click:function(t){e.facetFlag=!e.facetFlag}}},l),[e._v(e._s(e.facetFlag?"mdi-arrow-collapse-left":"mdi-arrow-collapse-right"))])]}}])},[e._v(" "),r("span",[e._v(e._s(e.facetFlag?e.$t("close_facets"):e.$t("open_facets")))])]),e._v("\n                "+e._s(e.$t("search_result"))+": "+e._s(e.total.toLocaleString())+e._s(e.$t("hits"))+"\n              ")],1),e._v(" "),r("v-col",{staticClass:"mt-4",attrs:{cols:"12"}},[r("v-row",{attrs:{dense:""}},["stats"!==e.layout_?[r("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",sm:"3"}},[r("v-select",{attrs:{items:e.computedItemsSort,label:e.$t("Sort by")},on:{change:e.setSort},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}})],1),e._v(" "),r("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",sm:"3"}},[r("v-select",{attrs:{items:[{value:24,text:"24"},{value:60,text:"60"},{value:120,text:"120"},{value:512,text:"512"}],label:e.$t("items_per_page")},on:{change:e.setSize},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}})],1)]:e._e(),e._v(" "),r("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",sm:"3"}},[r("v-select",{attrs:{items:e.layouts,label:e.$t("layout")},model:{value:e.layout_,callback:function(t){e.layout_=t},expression:"layout_"}})],1),e._v(" "),r("v-col",{directives:[{name:"show",rawName:"v-show",value:("grid"===e.layout_||"image"===e.layout_)&&"xs"!=e.$vuetify.breakpoint.name,expression:"\n                      (layout_ === 'grid' || layout_ === 'image') &&\n                      $vuetify.breakpoint.name != 'xs'\n                    "}],staticClass:"py-0 my-0",attrs:{cols:"12",sm:"3"}},[r("v-select",{attrs:{label:e.$t("col"),items:[{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:6,text:"6"},{value:12,text:"12"}]},model:{value:e.col,callback:function(t){e.col=t},expression:"col"}})],1)],2)],1)],1),e._v(" "),e.total>0?[r("div",{staticClass:"text-center my-5"},[r("v-pagination",{directives:[{name:"show",rawName:"v-show",value:"stats"!==e.layout_&&"map"!==e.layout_,expression:"layout_ !== 'stats' && layout_ !== 'map'"}],attrs:{length:e.paginationLength,"total-visible":7},on:{input:e.setCurrentPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),e._v(" "),r("SearchResult"),e._v(" "),r("div",{staticClass:"text-center my-5"},[r("v-pagination",{directives:[{name:"show",rawName:"v-show",value:"stats"!==e.layout_&&"map"!==e.layout_,expression:"layout_ !== 'stats' && layout_ !== 'map'"}],attrs:{length:e.paginationLength,"total-visible":7},on:{input:e.setCurrentPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)]:e._e()],2)]),e._v(" "),""!=e.manifest?r("v-col",{attrs:{cols:"12",sm:""!=e.manifest?5:0}},[r("div",{staticClass:"overflow-y-auto pa-4",style:"height: "+(.99*e.height-74)+"px"},[r("iframe",{staticStyle:{border:"none"},attrs:{src:e.miradorPath,seamless:"seamless",width:"100%",height:.8*e.height+"px",allow:"fullscreen"}}),e._v(" "),r("div",{staticClass:"text-right"},[r("v-btn",{staticClass:"mt-2 mb-2",attrs:{color:"primary"},on:{click:function(t){e.manifest="",e.memberId=""}}},[e._v(e._s(e.$t("close")))])],1)])]):e._e()],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;R()(component,{VBtn:V.a,VCol:P.a,VIcon:A.a,VPagination:C.a,VRow:F.a,VSelect:I.a,VSheet:z.a,VTooltip:L.a})}}]);