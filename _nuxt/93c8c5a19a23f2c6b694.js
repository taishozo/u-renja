(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{390:function(e,t,r){"use strict";r(20),r(21),r(5),r(53);var n=r(15),l=r(27),o=r(23),c=r(16),f=r(13),d=r(57);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var l=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var m=function(e,t,r,desc){var n,l=arguments.length,o=l<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(o=(l<3?n(o):l>3?n(t,r,o):n(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},h=function(e){Object(l.a)(r,e);var t=v(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).isBc=!0,e}return r}(d.Vue);m([Object(d.Prop)({required:!0})],h.prototype,"items",void 0);var y=h=m([d.Component],h),x=r(49),k=r(76),O=r.n(k),j=r(400),_=r(387),C=r(152),P=r(47),component=Object(x.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isBc?r("v-sheet",{attrs:{color:"grey lighten-2"}},[r("v-container",{staticClass:"py-4",attrs:{fluid:""}},[r("v-breadcrumbs",{staticClass:"py-0",attrs:{items:e.items},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0}],null,!1,3681283568)})],1)],1):e._e()}),[],!1,null,null,null);t.a=component.exports;O()(component,{VBreadcrumbs:j.a,VContainer:_.a,VIcon:C.a,VSheet:P.a})},420:function(e,t,r){"use strict";r(20),r(21),r(5),r(53);var n=r(15),l=r(24),o=r(27),c=r(23),f=r(16),d=r(13),v=r(57);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var l=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var h=function(e,t,r,desc){var n,l=arguments.length,o=l<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(o=(l<3?n(o):l>3?n(t,r,o):n(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},y=r(431).a.Bar,x=function(e){Object(o.a)(r,e);var t=m(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"watchTmp",value:function(){this.main()}},{key:"mounted",value:function(){this.main()}},{key:"main",value:function(){var e={labels:this.labels,datasets:this.datasets};this.renderChart(e,{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]}})}}]),r}(Object(v.mixins)(y));h([Object(v.Prop)({default:[]})],x.prototype,"labels",void 0),h([Object(v.Prop)({default:[]})],x.prototype,"datasets",void 0),h([Object(v.Watch)("datasets",{deep:!0})],x.prototype,"watchTmp",null);var k=x=h([v.Component],x),O=r(49),component=Object(O.a)(k,void 0,void 0,!1,null,null,null);t.a=component.exports},430:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=430},509:function(e,t,r){"use strict";r.r(t);r(7),r(50),r(11),r(42),r(43),r(26),r(20),r(21),r(5),r(40);var n=r(12),l=r(390);function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))){var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,l=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){o=!0,n=e},f:function(){try{l||null==r.return||r.return()}finally{if(o)throw n}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var f={components:{BarChart:r(420).a,BMenu:l.a},data:function(){return{slug:this.$route.params.slug||"default",itemsAggs:[],headersAggs:[{text:this.$t("name"),value:"label"},{text:this.$t("results"),value:"value"}],searchAgg:"",loading:!0,tabValue:null,tabs:null,labels:[],datasets:[]}},computed:{config:{get:function(){return{default:{label:"書名目録",index:"data/index.json",to:{name:"search-slug"},aggs:{"分類(1)":{label:"分類(1)",value:{},key:"分類(1)",more:!1},"分類(2)":{label:"分類(2)",value:{},key:"分類(2)",more:!1},"分類(3)":{label:"分類(3)",value:{},key:"分類(3)",more:!1},"函册":{label:"函册次",value:{},key:"函册",more:!1},"經番":{label:"經番",value:{},key:"經番",more:!1},"譯著者_facet":{label:"譯著者",value:{},key:"譯著者_facet",more:!1},"版式":{label:"版式",value:{},key:"版式",more:!1},"大正藏採録種別":{label:"大正藏採録種別",value:{},key:"大正藏採録種別",more:!1},"画像有無":{label:"画像有無",value:{},key:"画像有無",more:!1},"通番":{label:"通番",value:{},key:"通番",more:!1,hide:!0,type:"number"}},sort:[{label:"通番",value:"通番"}],defaultSort:"通番:asc",layout:[{label:"table",value:"table",icon:"mdi-table",component:"custom-search-layout-table"},{label:"graph",value:"graph",icon:"mdi-chart-bar",component:"search-layout-graph"}],defaultLayout:"table",advanced:[],itemPerPages:[20,50,100,500],defaultItemPerPage:20},advanced:{label:"詳細目録",index:"data/advanced.json",to:{name:"search-slug",params:{slug:"advanced"}},aggs:{"連":{label:"所在一覧-連",value:{},key:"連",more:!1},"箱":{label:"所在一覧-箱",value:{},key:"箱",more:!1},"函(通番)":{label:"所在一覧-函",value:{},key:"函(通番)",more:!1},"函册次":{label:"函册次",value:{},key:"函册次",more:!1},"分類(1)":{label:"分類(1)",value:{},key:"分類(1)",more:!1},"分類(2)":{label:"分類(2)",value:{},key:"分類(2)",more:!1},"分類(3)":{label:"分類(3)",value:{},key:"分類(3)",more:!1},"經番":{label:"經番",value:{},key:"經番",more:!1},"通番":{label:"通番",value:{},key:"通番",more:!1,type:"number"},"刊記(西暦年)":{label:"刊記(西暦年)",value:{},key:"刊記(西暦年)",more:!1},"圖像":{label:"圖像",value:{},key:"圖像",more:!1}},sort:[{label:"通番",value:"通番"}],defaultSort:"通番:asc",layout:[{label:"table",value:"table",icon:"mdi-table",component:"custom-search-layout-advanced"},{label:"graph",value:"graph",icon:"mdi-chart-bar",component:"search-layout-graph"}],defaultLayout:"table",advanced:[],itemPerPages:[20,50,100,500,1e3],defaultItemPerPage:20}}[this.slug]},set:function(){}},bh:function(){var e=this.config;return[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"}),exact:!0},{text:this.$t("category"),disabled:!1,to:this.localePath({name:"category"}),exact:!0},{text:e.label,disabled:!1,to:this.localePath({name:"category-slug",params:{slug:this.slug}}),exact:!0},{text:this.$route.params.id}]}},watch:{$route:function(){var e=this.$route.query;e["main[query]"]&&(this.q=e["main[query]"]),this.filter(),this.list()}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,l,c,f,d,v,m,h,y,data,x,k,O,j,_,C,P;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.config,t.next=3,e.$indexUtils.init(r);case 3:return n=t.sent,l=n.docs,c=n.fulltextMap,f=n.facets,d=JSON.parse(JSON.stringify(e.$route.query)),t.next=10,e.$indexUtils.filter(c,l,f,r,r.defaultSort,d);case 10:v=t.sent,m=v.ids,h=e.$indexUtils.getAggs(l,m,r),y=[],data=[],x=[],k=o(h[e.$route.params.id].value);try{for(k.s();!(O=k.n()).done;)j=O.value,y.push({label:j[0],value:j[1]})}catch(e){k.e(e)}finally{k.f()}for(y.sort((function(a,b){return a.value<b.value?1:a.value>b.value?-1:0})),_=0,C=y;_<C.length;_++)P=C[_],x.push(P.label),data.push(P.value);e.itemsAggs=y,e.labels=x,e.datasets=[{data:data,label:e.$t("item")}],e.loading=!1;case 24:case"end":return t.stop()}}),t)})))()},methods:{getQuery:function(e){var t={};return t["main[refinementList]["+this.$route.params.id+"][0]"]=e,t}},head:function(){return{title:this.$t("category")}}},d=r(49),v=r(76),m=r.n(v),h=r(406),y=r(389),x=r(387),k=r(501),O=r(152),j=r(151),_=r(499),C=r(512),P=r(511),R=r(486),V=r(484),w=r(485),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("BMenu",{attrs:{items:e.bh}}),e._v(" "),r("v-container",{staticClass:"my-5"},[r("v-tabs",{staticClass:"mb-10",model:{value:e.tabValue,callback:function(t){e.tabValue=t},expression:"tabValue"}},[e._l(e.config.aggs,(function(t,n){return[t.hide?e._e():r("v-tab",{key:n,staticClass:"ma-1",attrs:{depressed:"",color:"primary",to:e.localePath({name:"category-slug-id",params:{slug:e.slug,id:n}})}},[e._v(e._s(t.label))])]}))],2),e._v(" "),r("h2",{staticClass:"my-5"},[e._v(e._s(e.$route.params.id))]),e._v(" "),e.loading?[r("div",{staticClass:"text-center"},[r("v-progress-circular",{staticClass:"my-10",attrs:{indeterminate:"",color:"primary"}}),e._v(" "),r("p",[e._v("\n          初回はインデックスファイルのダウンロードに時間を要します。2回目以降はキャッシュにより待ち時間が改善します。\n        ")])],1)]:[r("v-tabs",{attrs:{right:""},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[r("v-tabs-slider"),e._v(" "),r("v-tab",{staticClass:"primary--text",attrs:{href:"#mobile-tabs-5-1"}},[r("v-icon",[e._v("mdi-table")])],1),e._v(" "),r("v-tab",{staticClass:"primary--text",attrs:{href:"#mobile-tabs-5-2"}},[r("v-icon",[e._v("mdi-chart-bar")])],1)],1),e._v(" "),r("v-tabs-items",{staticClass:"mt-10",model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[r("v-tab-item",{attrs:{value:"mobile-tabs-5-1"}},[r("v-card",{attrs:{flat:""}},[r("v-card-title",[r("v-text-field",{attrs:{filled:"",rounded:"","append-icon":"mdi-magnify",dense:"","single-line":"","hide-details":""},model:{value:e.searchAgg,callback:function(t){e.searchAgg=t},expression:"searchAgg"}})],1),e._v(" "),r("v-data-table",{attrs:{"items-per-page":20,"footer-props":{"items-per-page-options":[20,50,100,-1]},headers:e.headersAggs,items:e.itemsAggs,search:e.searchAgg},scopedSlots:e._u([{key:"item.label",fn:function(t){var n=t.item;return[r("nuxt-link",{attrs:{to:e.localePath({name:"search-slug",params:{slug:e.slug},query:e.getQuery(n.label)})}},[e._v("\n                  "+e._s(n.label)+"\n                ")])]}}])})],1)],1),e._v(" "),r("v-tab-item",{attrs:{value:"mobile-tabs-5-2"}},[r("BarChart",{staticClass:"mt-10",attrs:{labels:e.labels,datasets:e.datasets}})],1)],1)]],2)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VCard:h.a,VCardTitle:y.c,VContainer:x.a,VDataTable:k.a,VIcon:O.a,VProgressCircular:j.a,VTab:_.a,VTabItem:C.a,VTabs:P.a,VTabsItems:R.a,VTabsSlider:V.a,VTextField:w.a})}}]);